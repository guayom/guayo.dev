::view-transition-old(.active),
::view-transition-new(.active) {
    animation-duration: 0.2s;
}

::view-transition-old(.active) {
    animation: 0.2s linear both menu_underline_reverse;
}

::view-transition-new(.active) {
    animation: 0.2s linear both menu_underline;
}

@view-transition {
    navigation: auto;
}

body {
    max-width: 700px;
    padding: 0 2rem;
    margin: 0 auto;
    font-family: 'Trebuchet MS', sans-serif;
}

@keyframes menu_underline {
    from {
        transform: scaleX(0);
    }
    to {
        transform: scaleX(1);
    }
}

@keyframes menu_underline_reverse {
    from {
        transform: scaleX(1);
    }
    to {
        transform: scaleX(0);
    }
}

header {
    display: flex;
    padding: 2rem 0;

    nav {
        flex: 1;

        ul {
            display: flex;
            list-style: none;
            padding: 0;

            li {
                margin-right: 1em;

                 a {
                    text-decoration: none;
                    color: #000;
                    position: relative;

                    &::after {
                        content: '';
                        position: absolute;
                        bottom: -5px;
                        left: 0;
                        width: 100%;
                        height: 2px;
                        background-color: black;
                        transform: scaleX(0);
                    }

                    &.active::after {
                        animation: menu_underline 0.2s linear both;
                    }

                    &.leaving:after {
                        animation: menu_underline_reverse 0.2s linear both;
                    }
                 }
            }
        }
    }

}
